<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
        html, body {
            overflow: hidden;
        }

        .lvsexiangzi {
            position: absolute;
            width: 40px;
            height: 44px;
            background-image: url('http://fs.1473.cn/2b0016cc-5cf3-4b4f-8866-37c98cdefe35.gif');
            background-position: 0 0;
        }

        .lanzi {
            position: absolute;
            width: 40px;
            height: 49px;
            background-image: url('http://fs.1473.cn/2b0016cc-5cf3-4b4f-8866-37c98cdefe35.gif');
            background-position: -154px 0;
        }

        .cao {
            position: absolute;
            width: 42px;
            height: 55px;
            background-image: url('http://fs.1473.cn/2b0016cc-5cf3-4b4f-8866-37c98cdefe35.gif');
            background-position: -302px 0;
        }

        .cao2 {
            position: absolute;
            width: 45px;
            height: 55px;
            background-image: url('http://fs.1473.cn/2b0016cc-5cf3-4b4f-8866-37c98cdefe35.gif');
            background-position: -294px -2px;
        }

        .shu {
            position: absolute;
            width: 40px;
            height: 56px;
            background-image: url('http://fs.1473.cn/2b0016cc-5cf3-4b4f-8866-37c98cdefe35.gif');
            background-position: -202px -2px;
        }

        .fangzi {
            position: absolute;
            width: 40px;
            height: 53px;
            background-image: url('http://fs.1473.cn/2b0016cc-5cf3-4b4f-8866-37c98cdefe35.gif');
            background-position: -350px -2px;
        }

        .shuihua {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url('http://fs.1473.cn/2b0016cc-5cf3-4b4f-8866-37c98cdefe35.gif');
            background-position: -251px 0px;
        }

        .paopao {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url('http://fs.1473.cn/81792030-aa5c-4e00-a10b-834820d18220.gif');
        }

        .geshu {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/52b25aa0-7a44-4e26-abb6-214b8893a41f.gif");
        }

        .jiasu {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/a4641dcc-6213-4360-a534-b9286a63b614.gif");
        }

        .weili {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/4962e8ec-3e1c-453c-bc15-7dceb2293097.gif");
        }

        .siwang {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/02ea18b0-63f6-451c-afab-d96b8598b3da.gif");
        }

        .renwushang {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/79ee0f2f-a05a-4d4f-8d80-630aa0a8d35c.gif");
        }

        .renwuxia {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/e0b2c37a-44b2-451d-af0e-4a6561e424e3.gif");
        }

        .renwuzuo {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/e560b442-d621-4e13-b34b-3fd786442c9e.gif");
        }

        .renwuyou {
            position: absolute;
            width: 40px;
            height: 40px;
            background-image: url("http://fs.1473.cn/7b2eb038-3fa1-4505-bbb1-fa0b326dd997.gif");
        }
    </style>
    <script type="text/javascript">
        var _A = [
            [1, 1, 1, 1, 1, 1, 1, 3, 1, 3, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 0, 3, 0, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 1],   //1代表绿色箱子
            [1, 3, 5, 5, 3, 4, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 4, 5, 1],   //2代表篮子
            [1, 0, 5, 0, 0, 4, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 2, 2, 4, 1],   //3代表草
            [1, 0, 2, 0, 0, 0, 0, 5, 2, 3, 0, 3, 0, 4, 0, 2, 0, 4, 0, 1],   //4代表树
            [3, 2, 4, 4, 0, 0, 0, 0, 2, 3, 2, 0, 0, 4, 0, 5, 0, 0, 2, 3],   //5代表房子
            [1, 2, 0, 0, 0, 0, 4, 2, 5, 3, 5, 2, 4, 2, 0, 0, 0, 0, 2, 1],
            [3, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 3],
            [1, 2, 0, 0, 0, 0, 4, 2, 5, 3, 5, 2, 4, 0, 0, 0, 0, 0, 2, 1],
            [3, 2, 5, 0, 0, 4, 0, 0, 2, 3, 2, 0, 0, 0, 0, 0, 4, 4, 2, 3],
            [1, 3, 4, 0, 0, 4, 0, 3, 0, 3, 0, 0, 5, 0, 0, 0, 0, 2, 0, 1],
            [1, 4, 2, 2, 0, 4, 4, 0, 0, 0, 0, 5, 0, 0, 4, 0, 0, 5, 0, 1],
            [1, 5, 4, 2, 0, 0, 0, 0, 0, 2, 0, 5, 0, 0, 4, 2, 5, 5, 3, 1],
            [1, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 3, 0, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
        ];
        var roleX = 4;           //人物纵坐标
        var roleY = 1;           //人物横坐标
        var l = 1;               //控制死亡的全局变量
        var zhadan = 2;          //炸弹最初数量
        var Pdwidth = 2;         //炮弹爆炸长度
        var jiasu = 0;           //控制人物移动速度的全局变量
        var _e = [];             //控制炮弹连爆的数组
        var _roleX = 4; var _roleY = 1;
        function ChangeTOP() {   //页面居中
            var TotalFrame = document.getElementById("TotalFrame");
            TotalFrame.style.marginTop = (document.documentElement.clientHeight - 600) / 2 + "px";
        }
        function ditu(zuobiao) {        //铺地图
            var zuobiaoI, zuobiaoJ, zuobiao;
            var renwu = document.getElementById("ren");
            for (zuobiaoI = 0; zuobiaoI < _A.length; zuobiaoI++) {
                for (zuobiaoJ = 0; zuobiaoJ < _A[zuobiaoI].length; zuobiaoJ++) {
                    zuobiao = document.createElement("div");
                    zuobiao.id = "_" + zuobiaoI + "_" + zuobiaoJ;
                    zuobiao.style.position = "absolute";
                    zuobiao.style.top = zuobiaoI * 40 + "px";
                    zuobiao.style.left = zuobiaoJ * 40 + "px";
                    if (_A[zuobiaoI][zuobiaoJ] == 1) { zuobiao.className = "lvsexiangzi" }
                    else if (_A[zuobiaoI][zuobiaoJ] == 2) { zuobiao.className = "lanzi" }
                    else if (_A[zuobiaoI][zuobiaoJ] == 3) { zuobiao.className = "cao"; }
                    else if (_A[zuobiaoI][zuobiaoJ] == 4) { zuobiao.className = "shu" }
                    else if (_A[zuobiaoI][zuobiaoJ] == 5) { zuobiao.className = "fangzi" }
                    TotalFrame.appendChild(zuobiao);
                }
            }
        }
        var turn, zhadan;
        window.onload = ditu;
        function moveren(zuobiao) {        //人物行走
            var _key = event.keyCode; //获取键盘
            var renwu = document.getElementById("ren");
            var song = document.getElementsByTagName("bgsound");
            var daojuX = roleX;
            var daojuY = roleY;
            if (_key == 38) { if (parseInt(renwu.style.top) > (0)) { xingzou(renwu, roleX, roleY, daojuX, daojuY, _rolemoveqj, "renwushang"); } } //上
            if (_key == 40) { if (parseInt(renwu.style.top) < (560)) { xingzou(renwu, roleX, roleY, daojuX, daojuY, _rolemoveqj, "renwuxia"); } }//下
            if (_key == 37) { if (parseInt(renwu.style.left) > (0)) { xingzou(renwu, roleX, roleY, daojuX, daojuY, _rolemoveqj, "renwuzuo"); } }//左
            if (_key == 39) { if (parseInt(renwu.style.left) < (760)) { xingzou(renwu, roleX, roleY, daojuX, daojuY, _rolemoveqj, "renwuyou"); } } //右
            function xingzou(renwu, roleX, roleY, daojuX, daojuY, _rolemoveqj, renwufangxiang) {
                var _x, _y, _q, _w, _e, _r, _t, _u, _o, _p, _k, _h, _g, bian;
                if (renwufangxiang == "renwushang") {
                    bian = "_" + (daojuX - 1) + "_" + daojuY;
                    _h = roleX - 1 - 1;
                    _g = roleY;
                    _e = daojuX - 1;
                    _r = daojuY;
                    _x = roleX - 1;
                    _y = roleY;
                    _p = roleX - 2;
                    _k = roleY;
                    _q = "_" + (roleX - 2) + "_" + roleY;
                    _w = "_" + (roleX - 1) + "_" + roleY;
                    _t = "up";
                    _u = rolemove1;
                    _o = "renwushang";
                }
                if (renwufangxiang == "renwuxia") { bian = "_" + (daojuX + 1) + "_" + daojuY; _h = roleX + 1 + 1; _g = roleY; _e = daojuX + 1; _r = daojuY; _x = roleX + 1; _y = roleY; _p = roleX + 2; _k = roleY; _q = "_" + (roleX + 2) + "_" + roleY; _w = "_" + (roleX + 1) + "_" + roleY; _t = "down"; _u = rolemove2; _o = "renwuxia"; }
                if (renwufangxiang == "renwuzuo") { bian = "_" + daojuX + "_" + (daojuY - 1); _h = roleX; _g = roleY - 1 - 1; _e = daojuX; _r = daojuY - 1; _x = roleX; _y = roleY - 1; _p = roleX; _k = roleY - 2; _q = "_" + roleX + "_" + (roleY - 2); _w = "_" + roleX + "_" + (roleY - 1); _t = "left"; _u = rolemove3; _o = "renwuzuo"; }
                if (renwufangxiang == "renwuyou") { bian = "_" + daojuX + "_" + (daojuY + 1); _h = roleX; _g = roleY + 1 + 1; _e = daojuX; _r = daojuY + 1; _x = roleX; _y = roleY + 1; _p = roleX; _k = roleY + 2; _q = "_" + roleX + "_" + (roleY + 2); _w = "_" + roleX + "_" + (roleY + 1); _t = "right"; _u = rolemove4; _o = "renwuyou"; }
                if (_A[_x][_y] == 11) { document.getElementById(bian).className = ""; _A[_e][_r] = 0; zhadan++; }
                if (_A[_x][_y] == 12) { document.getElementById(bian).className = ""; _A[_e][_r] = 0; Pdwidth++; }
                if (_A[_x][_y] == 13) { document.getElementById(bian).className = ""; _A[_e][_r] = 0; jiasu = jiasu + 10; }
                if (_A[_x][_y] == 6 || _A[_x][_y] == 7) { l = 0; }
                if ((_A[_x][_y] == 6 && _A[_x][_y] == 7) || l == 0) {
                    renwu.style.backgroundImage = "";
                    renwu.className = "siwang"; siwang();
                }
                else {
                    ren.style.backgroundImage = ""; renwu.className = _o;
                    if (_A[_x][_y] == 1 || _A[_x][_y] == 4 || _A[_x][_y] == 5 || _A[_x][_y] == 9 || l == 0) { }
                    else if (_A[_x][_y] == 2) {
                        if (_A[_p][_k] == 1 || _A[_p][_k] == 2 || _A[_p][_k] == 3 || _A[_p][_k] == 4 || _A[_p][_k] == 5 || _A[_p][_k] == 9 || _A[_p][_k] == 11 || _A[_p][_k] == 12 || _A[_p][_k] == 13) { }
                        else {
                            if (parseInt(renwu.style.top) % 40 == 0) {           //parseInt()函数：把参数的值转换为整数；
                                if (parseInt(renwu.style.left) % 40 == 0) {
                                    var _i = document.getElementById(_q);
                                    _i.className = "lanzi";
                                    var _l = document.getElementById(_w);
                                    _l.className = "";
                                    _A[_h][_g] = 2;
                                    _A[_x][_y] = 0;
                                    _u(renwu);
                                }
                            }
                        }
                    }
                    else { turn = _t; if (_rolemoveqj == 0) { _u(renwu); } }
                    if (_A[_x][_y] == 3) {
                        renwu.className = "";
                    }
                    else {
                        if (_A[roleX][roleY] == 3) {
                            if (_A[_x][_y] == 1 || _A[_x][_y] == 2 || _A[_x][_y] == 4 || _A[_x][_y] == 5 || _A[_x][_y] == 9) {
                                renwu.className = "";
                            }
                        }
                    }
                }
            }
            if (_A[roleX][roleY] == 9) { }
            else {
                if (_key == 32) {
                    if (l == 1 && zhadan > 0) {
                        if (parseInt(renwu.style.top) % 40 == 0) {
                            if (parseInt(renwu.style.left) % 40 == 0) {
                                zhadan = zhadan - 1;
                                dd();
                            }
                        }
                    }
                }
            }
            _roleX = roleX; _roleY = roleY;
        }
        function rolemove1(obj) {        //设置人物移动速度
            _rolemoveqj = 1;
            obj.style.top = parseInt(obj.style.top) - 10 + "px";
            if (parseInt(obj.style.top) % 40 != 0)
                setTimeout(function () { rolemove1(obj); }, 60 - jiasu);
            else { roleX--; _roleX = roleX; _rolemoveqj = 0; return; }
        }
        function rolemove2(obj) {
            _rolemoveqj = 1;
            obj.style.top = parseInt(obj.style.top) + 10 + "px";
            if (parseInt(obj.style.top) % 40 != 0)
                setTimeout(function () { rolemove2(obj); }, 60 - jiasu);
            else { roleX++; _roleX = roleX; _rolemoveqj = 0; return; }
        }
        function rolemove3(obj) {
            _rolemoveqj = 1;
            obj.style.left = parseInt(obj.style.left) - 10 + "px";
            if (parseInt(obj.style.left) % 40 != 0)
                setTimeout(function () { rolemove3(obj); }, 60 - jiasu);
            else { roleY--; _roleY = roleY; _rolemoveqj = 0; return; }
        }
        function rolemove4(obj) {
            _rolemoveqj = 1;
            obj.style.left = parseInt(obj.style.left) + 10 + "px";
            if (parseInt(obj.style.left) % 40 != 0)
                setTimeout(function () { rolemove4(obj); }, 60 - jiasu);
            else { roleY++; _roleY = roleY; _rolemoveqj = 0; return; }
        }
        var _rolemoveqj = 0; //控制键盘连续按下
        document.onkeydown = moveren; //控制键盘，当按下键盘的时候，触发moveren这个函数！
        //炮弹
        function dd() {
            var _key = event.keyCode;
            var renwu = document.getElementById("ren"); //获取人物的地址/
            var _zuobiao = document.createElement("div"); //创一个div
            _zuobiao.id = "pd_" + _roleX + "_" + _roleY; //获取炮弹id
            //_zuobiao.style.cssText = renwu.style.cssText;
            _zuobiao.className = "paopao";  //炮弹
            //_zuobiao.style.position = "absolute"; //绝对值
            _zuobiao.style.top = renwu.offsetTop + "px"; //炮弹上边距
            _zuobiao.style.left = renwu.offsetLeft + "px"; //炮弹左边距
            //_zuobiao.style.zIndex = 0; //给炮弹层次
            if (_A[_roleX][_roleY] == 0) {
                _A[_roleX][_roleY] = 9;
            }
            var OldX = _roleX; var OldY = _roleY;
            document.getElementById("TotalFrame").appendChild(_zuobiao); //在body显示
            _e.push(setTimeout(function () {
                bb(_zuobiao, OldX, OldY, renwu);
            }, 3000));
        }
        //炮弹爆炸
        function bb(_zuobiao, OldX, OldY, renwu) {
            if (_zuobiao.className != "paopao") { return; }
            //_zuobiao.style.zIndex = 0;
            var keepBomb = [true, true, true, true];
            var new_zuobiao_id = _zuobiao.id.split("_");
            var new_zuobiao;
            _zuobiao.className = "shuihua";
            _A[OldX][OldY] = 6;
            var _o = [true, true, true, true];
            for (var changdu = 1; changdu < Pdwidth; changdu++) {      //规定爆炸范围，不超出地图
                if (OldX + changdu < _A.length) {
                    if (_A[OldX + changdu][OldY] != 4 && _A[OldX + changdu][OldY] != 5 && keepBomb[0]) {   //xia
                        _o[0] = baozha(renwu, new_zuobiao_id, new_zuobiao, OldX, OldY, changdu, "xiamian", _o[0]);
                    }
                    else { keepBomb[0] = false }
                }
                if (OldX - changdu >= 0) {
                    if (_A[OldX - changdu][OldY] != 4 && _A[OldX - changdu][OldY] != 5 && keepBomb[1]) {   //shang
                        _o[1] = baozha(renwu, new_zuobiao_id, new_zuobiao, OldX, OldY, changdu, "shangmian", _o[1]);
                    }
                    else { keepBomb[1] = false }
                }
                if (OldY + changdu < 21) {
                    if (_A[OldX][OldY + changdu] != 4 && _A[OldX][OldY + changdu] != 5 && keepBomb[2]) {   //you
                        _o[2] = baozha(renwu, new_zuobiao_id, new_zuobiao, OldX, OldY, changdu, "youmian", _o[2]);
                    }
                    else { keepBomb[2] = false }
                }
                if (OldY - changdu >= 0) {
                    if (_A[OldX][OldY - changdu] != 4 && _A[OldX][OldY - changdu] != 5 && keepBomb[3]) {   //zuo
                        _o[3] = baozha(renwu, new_zuobiao_id, new_zuobiao, OldX, OldY, changdu, "zuomian", _o[3]);
                    }
                    else { keepBomb[3] = false }
                }
                if (_roleX + "" + _roleY == OldX + "" + OldY) {
                    renwu.style.backgroundImage = "";
                    renwu.className = "siwang";
                    l = 0;
                    siwang();
                }
            }
            setTimeout(function () {      //连爆时水花一起消失
                _zuobiao.parentNode.removeChild(_zuobiao);
                aa(OldX, OldY, renwu, _o);
            }, 200);
        }
        //炮弹爆炸消失
        function aa(OldX, OldY, renwu, _o) {
            _A[OldX][OldY] = 0;
            xiaoshi(OldX, OldY, 0, "", _o);
            var keepBomb = [true, true, true, true];
            for (var changdu = 1; changdu < Pdwidth; changdu++) {
                if (OldX + changdu < _A.length) {
                    if (_A[OldX + changdu][OldY] != 4 && _A[OldX + changdu][OldY] != 5 && keepBomb[0]) {//下
                        xiaoshi(OldX, OldY, changdu, "xiabian", _o);
                    }
                    if (_A[OldX + changdu][OldY] == 7) {    //7代表爆炸后出现道具
                        dj(OldX, OldY, changdu, "xia");
                    }
                    if (_A[OldX + changdu][OldY] == 6) {    //6代表爆炸后没有道具
                        document.getElementById("_" + (OldX + changdu) + "_" + OldY).className = "";
                        _A[OldX + changdu][OldY] = 0;
                    }
                    else { keepBomb[0] = false }
                }
                if (OldX - changdu >= 0) {
                    if (_A[OldX - changdu][OldY] != 4 && _A[OldX - changdu][OldY] != 5 && keepBomb[1]) {//上
                        xiaoshi(OldX, OldY, changdu, "shangbian", _o);
                    }
                    if (_A[OldX - changdu][OldY] == 7)
                        dj(OldX, OldY, changdu, "shang");
                    if (_A[OldX - changdu][OldY] == 6) {
                        document.getElementById("_" + (OldX - changdu) + "_" + OldY).className = "";
                        _A[OldX - changdu][OldY] = 0;
                    }
                    else { keepBomb[1] = false }
                }
                if (OldY + changdu < 21) {
                    if (_A[OldX][OldY + changdu] != 4 && _A[OldX][OldY + changdu] != 5 && keepBomb[2]) {    //右
                        xiaoshi(OldX, OldY, changdu, "youbian", _o);
                    }
                    if (_A[OldX][OldY + changdu] == 7)
                        dj(OldX, OldY, changdu, "you");
                    if (_A[OldX][OldY + changdu] == 6) {
                        document.getElementById("_" + OldX + "_" + (OldY + changdu)).className = "";
                        _A[OldX][OldY + changdu] = 0;
                    }
                    else { keepBomb[2] = false }
                }
                if (OldY - changdu >= 0) {
                    if (_A[OldX][OldY - changdu] != 4 && _A[OldX][OldY - changdu] != 5 && keepBomb[3]) {    //左
                        xiaoshi(OldX, OldY, changdu, "zuobian", _o);
                    }
                    if (_A[OldX][OldY - changdu] == 7)
                        dj(OldX, OldY, changdu, "zuo");
                    if (_A[OldX][OldY - changdu] == 6) {
                        document.getElementById("_" + OldX + "_" + (OldY - changdu)).className = "";
                        _A[OldX][OldY - changdu] = 0;
                    }
                    else { keepBomb[3] = false }
                }
            } zhadan++;
        }
        //炮弹爆炸
        var i;
        var _yijinzl = _yijinzal = _yijinzale = _yijinzalel = true;
        function baozha(renwu, new_zuobiao_id, new_zuobiao, OldX, OldY, changdu, fangxiang, _o) {
            var _x, _y, _q, _w, bian, _f;
            if (fangxiang == "xiamian") { bian = "_" + (OldX + changdu) + "_" + OldY; _x = OldX + changdu; _y = OldY; _q = parseInt(new_zuobiao_id[1]) + changdu; _w = new_zuobiao_id[2]; if (_o != false) { _o = _yijinzl; } i = 0; }
            if (fangxiang == "shangmian") { bian = "_" + (OldX - changdu) + "_" + OldY; _x = OldX - changdu; _y = OldY; _q = parseInt(new_zuobiao_id[1]) - changdu; _w = new_zuobiao_id[2]; if (_o != false) { _o = _yijinzal; } i = 1; }
            if (fangxiang == "youmian") { bian = "_" + OldX + "_" + (OldY + changdu); _x = OldX; _y = OldY + changdu; _q = new_zuobiao_id[1]; _w = parseInt(new_zuobiao_id[2]) + changdu; if (_o != false) { _o = _yijinzale; } i = 2; }
            if (fangxiang == "zuomian") { bian = "_" + OldX + "_" + (OldY - changdu); _x = OldX; _y = OldY - changdu; _q = new_zuobiao_id[1]; _w = parseInt(new_zuobiao_id[2]) - changdu; if (_o != false) { _o = _yijinzalel; } i = 3; }
            if (_A[_x][_y] == 9) {
                clearTimeout(_e[i]);
                _e.shift();
                var new_zuobiao = document.getElementById(new_zuobiao_id[0] + "_" + _q + "_" + _w);
                bb(new_zuobiao, _x, _y, renwu);
            }
            if (_o == true) {
                if (_A[_x][_y] != 0) {
                    _o = false;
                }
                if (_A[_x][_y] == 1 || _A[_x][_y] == 2 || _A[_x][_y] == 3) {
                    document.getElementById(bian).className = "shuihua";
                    _A[_x][_y] = 7;
                }
                else if (renwu.offsetTop / 40 == _x && renwu.offsetLeft / 40 == _y) {
                    renwu.style.backgroundImage = "";
                    renwu.className = "siwang";
                    document.getElementById(bian).className = "shuihua";
                    _A[_x][_y] = 6;
                    l = 0;
                    siwang();
                }
                else {
                    document.getElementById(bian).className = "shuihua";
                    _A[_x][_y] = 6;
                }
            }
            return _o;
        }
        //炮弹爆炸消失
        function xiaoshi(OldX, OldY, changdu, fangx, _o) {
            var _x = OldX;
            var _y = OldY;
            var bian = "_" + OldX + "_" + OldY;
            var _k;
            if (fangx == "xiabian") { bian = "_" + (OldX + changdu) + "_" + OldY; _x = OldX + changdu; _y = OldY; _o = _yijinzl; i = 0; _k = "xia"; }
            if (fangx == "shangbian") { bian = "_" + (OldX - changdu) + "_" + OldY; _x = OldX - changdu; _y = OldY; _o = _yijinzal; i = 1; _k = "shang"; }
            if (fangx == "youbian") { bian = "_" + OldX + "_" + (OldY + changdu); _x = OldX; _y = OldY + changdu; _o = _yijinzale; i = 2; _k = "you"; }
            if (fangx == "zuobian") { bian = "_" + OldX + "_" + (OldY - changdu); _x = OldX; _y = OldY - changdu; _o = _yijinzalel; i = 3; _k = "zuo"; }
            if (_o == true) {
                if (_A[_x][_y] != 0)
                    _o = false;
                if (_A[_x][_y] == 7)
                    dj(OldX, OldY, changdu, _k);
            }
            else {
                document.getElementById(bian).className = "";
                _A[_x][_y] = 0;
            }
            if (_A[_x][_y] == 6 || _A[_x][_y] == 0) {
                document.getElementById(bian).className = "";
                _A[_x][_y] = 0;
            }
        }
        //随机道具
        function dj(OldX, OldY, changdu, fx) {   //随机道具
            var _x; var _y; var bian;
            RdNumber = Math.ceil(Math.random() * 3);
            if (fx == "xia") { bian = "_" + (OldX + changdu) + "_" + OldY; _x = OldX + changdu; _y = OldY; }
            if (fx == "shang") { bian = "_" + (OldX - changdu) + "_" + OldY; _x = OldX - changdu; _y = OldY; }
            if (fx == "you") { bian = "_" + OldX + "_" + (OldY + changdu); _x = OldX; _y = OldY + changdu; }
            if (fx == "zuo") { bian = "_" + OldX + "_" + (OldY - changdu); _x = OldX; _y = OldY - changdu; }
            if (RdNumber == 1) { document.getElementById(bian).className = "geshu"; _A[_x][_y] = 11; }
            else if (RdNumber == 2) { document.getElementById(bian).className = "weili"; _A[_x][_y] = 12; }
            else if (RdNumber == 3) { document.getElementById(bian).className = "jiasu"; _A[_x][_y] = 13; }
            else { document.getElementById(bian).className = ""; _A[_x][_y] = 0; }
        }
        function siwang() { setTimeout(function () { alert('你输了！'); window.close(); }, 3000); } //死亡
        function addsong() {
            var _key = event.keyCode;
            var song = document.getElementsByTagName("song");
            if (_key == 32) {
                song[0].src = "BGM/kongge.wav";
            }
        }
    </script>
</head>
<body onresize="ChangeTOP()">
    <audio id="song" src="刘若英 - 原来你也在这里.mp3" />
    <div id="TotalFrame" style="width: 800px; height: 600px; margin: auto; padding: 0; position: relative;">
        <div id="beijing" style="position: absolute; top: 0px; left: 0px; width: 800px; height: 600px; background-image: url(http://fs.1473.cn/f6899eae-b89d-4cca-a5b9-0325afadae9e.jpg); z-index: 0;">
        </div>
        <div id="ren" style="position: absolute; top: 160px; left: 40px; width: 40px; height: 40px; background-image: url(http://fs.1473.cn/e0b2c37a-44b2-451d-af0e-4a6561e424e3.gif); z-index: 6;">
        </div>
    </div>
    <div id="Div1">
    </div>
</body>
</html>
