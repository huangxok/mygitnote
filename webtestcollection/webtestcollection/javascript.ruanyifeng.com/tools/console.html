<!DOCTYPE html>
<!-- saved from url=(0050)http://javascript.ruanyifeng.com/tool/console.html -->
<html class="no-js" lang="en"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">

  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width">

  <title>console对象 -- JavaScript 标准参考教程（alpha）</title>
  
  <!-- Included CSS Files (Uncompressed) -->
  <!--
  <link rel="stylesheet" href="stylesheets/foundation.css">
  -->
  
  <!-- Included CSS Files (Compressed) -->
  <link rel="stylesheet" href="http://javascript.ruanyifeng.com/css/foundation.css">
  <link rel="stylesheet" href="http://javascript.ruanyifeng.com/css/main.css">

  <!-- IE Fix for HTML5 Tags -->
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <script async="" src="./console_files/analytics.js"></script><script src="./console_files/jquery.js"></script>
  <script src="./console_files/toc.js"></script>
  <script src="./console_files/main.js"></script>

<script type="text/javascript" async="" src="./console_files/embed.js"></script></head>
<body>

<header class="top-bar" id="header">

<div class="fixed">

<nav class="top-bar">
<ul>
<!-- Title Area -->
	<li class="name has-dropdown">
	<h1><a href="http://javascript.ruanyifeng.com/">JavaScript 标准参考教程（alpha） </a></h1>
		<ul class="dropdown">
			
			<li><a href="http://javascript.ruanyifeng.com/#introduction">导论</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#grammar">基本语法</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#stdlib">标准库</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#oop">面向对象编程</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#dom">DOM</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#bom">浏览器对象</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#htmlapi">HTML网页的API</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#jquery">jQuery</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#tool">开发工具</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#advanced">高级语法</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#appendix">附录</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#library">草稿一：函数库</a></li>
			
			<li><a href="http://javascript.ruanyifeng.com/#nodejs">草稿二：Node.js</a></li>
			
		</ul>
	</li>
</ul>

<section>


<ul class="left">
<li class="divider"></li>
<li class="has-dropdown"><a class="active" href="http://javascript.ruanyifeng.com/tool/console.html#"> 开发工具 </a><ul class="dropdown">

























<li><a href="http://javascript.ruanyifeng.com/tool/bower.html">Bower：客户端库管理工具</a></li>





<li><a href="http://javascript.ruanyifeng.com/tool/browserify.html">Browserify：浏览器加载Node.js模块</a></li>











<li class="active"><a href="http://javascript.ruanyifeng.com/tool/console.html#">console对象</a></li>



















































<li><a href="http://javascript.ruanyifeng.com/tool/grunt.html">Grunt：任务自动管理工具</a></li>





<li><a href="http://javascript.ruanyifeng.com/tool/gulp.html">Gulp：任务自动管理工具</a></li>

























































<li><a href="http://javascript.ruanyifeng.com/tool/phantomjs.html">PhantomJS</a></li>

















<li><a href="http://javascript.ruanyifeng.com/tool/requirejs.html">RequireJS和AMD规范</a></li>







<li><a href="http://javascript.ruanyifeng.com/tool/sourcemap.html">Source Map</a></li>









































</ul></li>
<li class="divider"></li>
<li class="has-dropdown nav-3"><a href="http://javascript.ruanyifeng.com/tool/console.html#"> console对象</a><ul class="dropdown">
<li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc0">开发者工具</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc1">console.log()，console.info()，console.debug()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc2">console.warn()，console.error()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc3">console.table()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc4">console.dir()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc5">console.assert()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc6">console.time()，console.timeEnd()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc7">console.profile()，console.profileEnd()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc8">console.group()，console.groupend()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc9">其他方法</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc10">命令行API</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc11">debugger语句</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc12">移动端开发</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc17">Google Closure</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc18">Javascript 性能测试</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc21">参考链接</a></li></ul></li>
</ul>


<ul class="right">
	<li class="divider"></li>
	<li>
		<a href="https://github.com/ruanyf/jstutorial" target="_blank">GitHub <i class="foundicon-edit"></i></a>
	</li>
	<li class="divider"></li>
	<li>
		<a href="http://javascript.ruanyifeng.com/tool/console.html#">TOP <i class="foundicon-up-arrow"></i></a>
	</li>
</ul>

</section>

</nav>  
</div>
</header>


<article class="bookPage">

  <div class="row">
    <div class="twelve columns">

<h1> console对象 </h1>

<aside class="right"><p>来自<a href="http://javascript.ruanyifeng.com/">《JavaScript 标准参考教程（alpha）》</a>，by 阮一峰</p></aside>

<h2>目录</h2><div id="toc" class="panel callout radius"><ul><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc0">开发者工具</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc1">console.log()，console.info()，console.debug()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc2">console.warn()，console.error()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc3">console.table()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc4">console.dir()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc5">console.assert()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc6">console.time()，console.timeEnd()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc7">console.profile()，console.profileEnd()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc8">console.group()，console.groupend()</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc9">其他方法</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc10">命令行API</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc11">debugger语句</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc12">移动端开发</a></li><li class="toc-h3"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc13">模拟手机视口（viewport）</a></li><li class="toc-h3"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc14">模拟touch事件</a></li><li class="toc-h3"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc15">模拟经纬度</a></li><li class="toc-h3"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc16">远程除错</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc17">Google Closure</a></li><li class="toc-h2"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc18">Javascript 性能测试</a></li><li class="toc-h3"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc19">第一种做法</a></li><li class="toc-h3"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc20">第二种做法</a></li><li class="toc-h2 toc-active"><a href="http://javascript.ruanyifeng.com/tool/console.html#toc21">参考链接</a></li></ul></div>


<p>console对象是JavaScript的原生对象，它的作用有点像Unix系统的标准输出stdout和标准错误stderr，在浏览器中，代表了JavaScript控制台。它的作用主要有两个。</p>

<ul>
<li><p>显示网页代码运行时的错误信息。</p></li>
<li><p>提供了一个命令行接口，用来与网页代码互动。</p></li>
</ul>

<p>console对象提供了很多方法，可供开发者调用。</p>

<span id="toc0"></span><div class="chapter"><h2 id="开发者工具">开发者工具</h2></div>

<p>与console对象互动，需要通过浏览器自带的开发工具，以Chrome浏览器的“开发者工具”（Developer Tools）为例，打开它的方法有三种。</p>

<ol>
<li><p>按F12或者Control+Shift+i。</p></li>
<li><p>在菜单中选择“工具”/“开发者工具”。</p></li>
<li><p>在一个页面元素上，打开右键菜单，选择其中的“Inspect Element”。</p></li>
</ol>

<p><img src="https://developers.google.com/chrome-developer-tools/images/image03.png" alt="开发者工具"></p>

<p>打开“开发者工具”以后，可以看到在顶端有八个面板卡可供选择，分别是：</p>

<ul>
<li><p><strong>Elements</strong>：用来调试网页的HTML源码和CSS代码。</p></li>
<li><p><strong>Resources</strong>：查看网页加载的各种资源文件（比如代码文件、字体文件、css文件等），以及在硬盘上创建的各种内容（比如本地缓存、Cookie、Local Storage等）。</p></li>
<li><p><strong>Network</strong>：查看网页的HTTP通信情况。</p></li>
<li><p><strong>Sources</strong>：调试JavaScript代码。</p></li>
<li><p><strong>Timeline</strong>：查看各种网页行为随时间变化的情况。</p></li>
<li><p><strong>Profiles</strong>：查看网页的性能情况，比如CPU和内存消耗。</p></li>
<li><p><strong>Audits</strong>：提供网页优化的建议。</p></li>
<li><p><strong>Console</strong>：用来运行JavaScript命令。</p></li>
</ul>

<p>这八个面板都有各自的用途，以下都针对Console面板，也就是控制台。这个面板基本上就是一个命令行窗口，你可以在提示符下，键入各种命令。</p>

<p>下面介绍console对象提供的各种方法。</p>

<span id="toc1"></span><div class="chapter"><h2 id="console.log()，console.info()，console.debug()">console.log()，console.info()，console.debug()</h2></div>

<p>log方法用于在console窗口显示信息。</p>

<p>如果参数是普通字符串，log方法将字符串内容显示在console窗口。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello World"</span><span class="p">)</span>
<span class="c1">// Hello World</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"c"</span><span class="p">)</span>
<span class="c1">// a b c</span></code></pre></div>

<p>如果参数是格式字符串（使用了格式占位符），log方法将占位符替换以后的内容，显示在console窗口。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">" %s + %s = %s"</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1">//  1 + 1 = 2</span></code></pre></div>

<p>上面代码的%s表示字符串的占位符，其他占位符还有</p>

<ul>
<li>%d, %i 整数</li>
<li>%f 浮点数</li>
<li>%o 对象的链接</li>
<li>%c CSS格式字符串</li>
</ul>

<p>log方法的两种参数格式，可以结合在一起使用。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">" %s + %s "</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"= 2"</span><span class="p">)</span>
<span class="c1">// 1 + 1  = 2</span>
</code></pre></div>
<p>如果参数是一个对象，console.log会显示该对象的值。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">})</span>
<span class="c1">// Object {foo: "bar"} </span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Date</span><span class="p">)</span>
<span class="c1">// function Date() { [native code] } </span>
</code></pre></div>
<p>上面代码输出Date对象的值，结果为一个构造函数。</p>

<p>console.info()和console.debug()都是console.log方法的别名，它们完全一样。</p>

<p>console对象的所有方法，都可以被覆盖。因此，可以按照自己的需要，定义console.log方法。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">[</span><span class="s2">"log"</span><span class="p">,</span> <span class="s2">"info"</span><span class="p">,</span> <span class="s2">"warn"</span><span class="p">,</span> <span class="s2">"error"</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">[</span><span class="nx">method</span><span class="p">]</span> <span class="o">=</span> <span class="nx">console</span><span class="p">[</span><span class="nx">method</span><span class="p">].</span><span class="nx">bind</span><span class="p">(</span>
        <span class="nx">console</span><span class="p">,</span>
        <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">()</span>
    <span class="p">);</span>
<span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"出错了！"</span><span class="p">);</span>
<span class="c1">// 2014-05-18T09:00.000Z 出错了！</span>
</code></pre></div>
<p>上面代码表示，使用自定义的console.log方法，可以在显示结果添加当前时间。</p>

<span id="toc2"></span><div class="chapter"><h2 id="console.warn()，console.error()">console.warn()，console.error()</h2></div>

<p>warn方法和error方法也是输出信息，它们与log方法的不同之处在于，warn方法输出信息时，在最前面加一个黄色三角，表示警告；error方法输出信息时，在最前面加一个红色的叉，表示出错。其他用法都一样。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Error: %s (%i)"</span><span class="p">,</span> <span class="s2">"Server is not responding"</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span>
<span class="c1">// Error: Server is not responding (500)</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">'Warning! Too few nodes (%d)'</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
<span class="c1">// Warning! Too few nodes (1)</span></code></pre></div>

<p>本质上，log方法是写入标准输出（stdout），warn方法和error方法是写入标准错误（stderr）。</p>

<span id="toc3"></span><div class="chapter"><h2 id="console.table()">console.table()</h2></div>

<p>对于某些复合类型的数据，console.table方法可以将其转为表格显示。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">languages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"JavaScript"</span><span class="p">,</span> <span class="nx">fileExtension</span><span class="o">:</span> <span class="s2">".js"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"TypeScript"</span><span class="p">,</span> <span class="nx">fileExtension</span><span class="o">:</span> <span class="s2">".ts"</span> <span class="p">},</span>
    <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"CoffeeScript"</span><span class="p">,</span> <span class="nx">fileExtension</span><span class="o">:</span> <span class="s2">".coffee"</span> <span class="p">}</span>
<span class="p">];</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">languages</span><span class="p">);</span></code></pre></div>

<p>上面代码的language，转为表格显示如下。</p>

<table><thead>
<tr>
<th>(index)</th>
<th>name</th>
<th>fileExtension</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>"JavaScript"</td>
<td>".js"</td>
</tr>
<tr>
<td>1</td>
<td>"TypeScript"</td>
<td>".ts"</td>
</tr>
<tr>
<td>2</td>
<td>"CoffeeScript"</td>
<td>".coffee"</td>
</tr>
</tbody></table>

<p>复合型数据转为表格显示的条件是，必须拥有主键。对于上面的数组来说，主键就是数字键。对于对象来说，主键就是它的最外层键。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">languages</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">csharp</span><span class="o">:</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"C#"</span><span class="p">,</span> <span class="nx">paradigm</span><span class="o">:</span> <span class="s2">"object-oriented"</span> <span class="p">},</span>
    <span class="nx">fsharp</span><span class="o">:</span> <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"F#"</span><span class="p">,</span> <span class="nx">paradigm</span><span class="o">:</span> <span class="s2">"functional"</span> <span class="p">}</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">languages</span><span class="p">);</span></code></pre></div>

<p>上面代码的language，转为表格显示如下。</p>

<table><thead>
<tr>
<th>(index)</th>
<th>name</th>
<th>paradigm</th>
</tr>
</thead><tbody>
<tr>
<td>csharp</td>
<td>"C#"</td>
<td>"object-oriented"</td>
</tr>
<tr>
<td>fsharp</td>
<td>"F#"</td>
<td>"functional"</td>
</tr>
</tbody></table>

<span id="toc4"></span><div class="chapter"><h2 id="console.dir()">console.dir()</h2></div>

<p>dir方法用来对一个对象进行检查（inspect），并以易于阅读和打印的格式显示。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">})</span>
<span class="o">&gt;</span> <span class="nb">Object</span>
<span class="o">&gt;</span>  <span class="nx">foo</span><span class="o">:</span> <span class="s2">"bar"</span>
<span class="o">&gt;</span>  <span class="nx">__proto__</span><span class="o">:</span> <span class="nb">Object</span>
</code></pre></div>
<p>上面代码显示dir方法的参数属于Object，该对像有一个属性foo，以及一个指向原型对象的_<em>proto\</em>_的属性。</p>

<span id="toc5"></span><div class="chapter"><h2 id="console.assert()">console.assert()</h2></div>

<p>console.assert方法用来验证某个条件是否为真。如果为假，则显示一条事先指定的错误信息。它的格式如下。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// 用法格式</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="err">条件判断，输出信息</span><span class="p">)</span>

<span class="c1">// 实例</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="kc">true</span> <span class="o">===</span> <span class="kc">false</span><span class="p">,</span><span class="s2">"判断条件不成立"</span><span class="p">)</span>
<span class="c1">// Assertion failed: 判断条件不成立</span></code></pre></div>

<p>上面代码表明，assert方法的第一个参数是判断条件，第二个参数是一个字符串，当判断条件不成立时，这个字符串就会显示。</p>

<p>下面是另一个例子，判断子节点的个数是否大于等于500。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">500</span><span class="p">,</span> <span class="s2">"节点个数大于等于500"</span><span class="p">)</span></code></pre></div>

<span id="toc6"></span><div class="chapter"><h2 id="console.time()，console.timeend()">console.time()，console.timeEnd()</h2></div>

<p>这两个方法用于计时，可以算出一个操作所花费的准确时间。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">(</span><span class="s2">"Array initialize"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">array</span><span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">1000000</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">(</span><span class="s2">"Array initialize"</span><span class="p">);</span>

<span class="c1">// Array initialize: 1914.481ms</span></code></pre></div>

<p>time方法表示计时开始，timeEnd方法表示计时结束。它们的参数是计时器的名称。调用timeEnd方法之后，console窗口会显示“计时器名称: 所耗费的时间”。</p>

<span id="toc7"></span><div class="chapter"><h2 id="console.profile()，console.profileend()">console.profile()，console.profileEnd()</h2></div>

<p>console.profile方法用来新建一个性能测试器（profile），它的参数是性能测试器的名字。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">profile</span><span class="p">(</span><span class="s1">'p'</span><span class="p">)</span>
<span class="c1">// Profile 'p' started. </span>
</code></pre></div>
<p>console.profileEnd方法用来结束正在运行的性能测试器。</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">profileEnd</span><span class="p">()</span>
<span class="c1">// Profile 'p' finished. </span>
</code></pre></div>
<p>打开浏览器的开发者工具，在profile面板中，可以看到这个性能调试器的运行结果。</p>

<span id="toc8"></span><div class="chapter"><h2 id="console.group()，console.groupend()">console.group()，console.groupend()</h2></div>

<p>这两个方法用于将显示的信息分组。它只在输出大量信息时有用，分在一组的信息，可以用鼠标折叠/展开。</p>

<span id="toc9"></span><div class="chapter"><h2 id="其他方法">其他方法</h2></div>

<ul>
<li><p><strong>console.dir()</strong>：输出对象的信息，用于显示一个对象的所有属性。</p></li>
<li><p><strong>console.clear()</strong>：对console窗口进行清屏，光标回到第一行。</p></li>
<li><p><strong>console.trace()</strong>：当前执行的代码在堆栈中的调用路径。</p></li>
</ul>

<span id="toc10"></span><div class="chapter"><h2 id="命令行api">命令行API</h2></div>

<p>在控制台中，除了使用console对象，还可以使用一些控制台自带的命令行方法。</p>

<p>（1）$_ </p>

<p>$_属性返回上一个表达式的值。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="mi">2</span><span class="o">+</span><span class="mi">2</span>
<span class="c1">// 4</span>
<span class="nx">$_</span>
<span class="c1">// 4</span></code></pre></div>

<p>（2）$0 - $4 </p>

<p>控制台保存了最近5个在Elements面板选中的DOM元素，$0代表倒数第一个，$1代表倒数第二个，以此类推直到$4。</p>

<p>（3）$(selector) </p>

<p>$(selector)返回一个数组，包括特定的CSS选择器匹配的所有DOM元素。该方法实际上是document.querySelectorAll方法的别名。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">images</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'img'</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">each</span> <span class="k">in</span> <span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">images</span><span class="p">[</span><span class="nx">each</span><span class="p">].</span><span class="nx">src</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>上面代码打印出网页中所有img元素的src属性。</p>

<p>（4）$$(selector)</p>

<p>$$(selector)返回一个选中的DOM对象，等同于document.querySelectorAll。</p>

<p>（5）$x(path) </p>

<p>$x(path)方法返回一个数组，包含匹配特定XPath表达式的所有DOM元素。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$x</span><span class="p">(</span><span class="s2">"//p[a]"</span><span class="p">)</span></code></pre></div>

<p>上面代码返回所有包含a元素的p元素。</p>

<p>（6）inspect(object) </p>

<p>inspect(object)方法打开相关面板，并选中相应的元素：DOM元素在Elements面板中显示，JavaScript对象在Profiles中显示。</p>

<p>（7）getEventListeners(object)</p>

<p>getEventListeners(object)方法返回一个对象，该对象的成员为登记了回调函数的各种事件（比如click或keydown），每个事件对应一个数组，数组的成员为该事件的回调函数。</p>

<p>（8）keys(object)，values(object)</p>

<p>keys(object)方法返回一个数组，包含特定对象的所有键名。</p>

<p>values(object)方法返回一个数组，包含特定对象的所有键值。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'p1'</span><span class="o">:</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'p2'</span><span class="o">:</span><span class="s1">'b'</span><span class="p">};</span>

<span class="nx">keys</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span>
<span class="c1">// ["p1", "p2"]</span>
<span class="nx">values</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span>
<span class="c1">// ["a", "b"]</span></code></pre></div>

<p>（9）monitorEvents(object[, events]) ，unmonitorEvents(object[, events])</p>

<p>monitorEvents(object[, events])方法监听特定对象上发生的特定事件。当这种情况发生时，会返回一个Event对象，包含该事件的相关信息。unmonitorEvents方法用于停止监听。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">monitorEvents</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s2">"resize"</span><span class="p">);</span>

<span class="nx">monitorEvents</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="p">[</span><span class="s2">"resize"</span><span class="p">,</span> <span class="s2">"scroll"</span><span class="p">])</span></code></pre></div>

<p>上面代码分别表示单个事件和多个事件的监听方法。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">monitorEvents</span><span class="p">(</span><span class="nx">$0</span><span class="p">,</span> <span class="s2">"mouse"</span><span class="p">);</span>
<span class="nx">unmonitorEvents</span><span class="p">(</span><span class="nx">$0</span><span class="p">,</span> <span class="s2">"mousemove"</span><span class="p">);</span></code></pre></div>

<p>上面代码表示如何停止监听。</p>

<p>monitorEvents允许监听同一大类的事件。所有事件可以分成四个大类。</p>

<ul>
<li>mouse："mousedown", "mouseup", "click", "dblclick", "mousemove", "mouseover", "mouseout", "mousewheel"</li>
<li>key："keydown", "keyup", "keypress", "textInput"</li>
<li>touch："touchstart", "touchmove", "touchend", "touchcancel"</li>
<li>control："resize", "scroll", "zoom", "focus", "blur", "select", "change", "submit", "reset"</li>
</ul>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">monitorEvents</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">"#msg"</span><span class="p">),</span> <span class="s2">"key"</span><span class="p">);</span></code></pre></div>

<p>上面代码表示监听所有key大类的事件。</p>

<p>（10）profile([name])，profileEnd()</p>

<p>profile方法用于启动一个特定名称的CPU性能测试，profileEnd方法用于结束该性能测试。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">profile</span><span class="p">(</span><span class="s2">"My profile"</span><span class="p">)</span>

<span class="nx">profileEnd</span><span class="p">(</span><span class="s2">"My profile"</span><span class="p">)</span></code></pre></div>

<p>（11）其他方法</p>

<p>命令行API还提供以下方法。</p>

<ul>
<li>clear()方法清除控制台的历史。</li>
<li>copy(object)方法复制特定DOM元素到剪贴板。</li>
<li>dir(object)方法显示特定对象的所有属性，是console.dir方法的别名。</li>
<li>dirxml(object)方法显示特定对象的XML形式，是console.dirxml方法的别名。</li>
</ul>

<span id="toc11"></span><div class="chapter"><h2 id="debugger语句">debugger语句</h2></div>

<p>debugger语句必须与除错工具配合使用，如果没有除错工具，debugger语句不会产生任何结果。</p>

<p>在chrome浏览器中，当代码运行到debugger指定的行时，就会暂停运行，自动打开console界面。它的作用类似于设置断点。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span><span class="o">===</span><span class="mi">2</span><span class="p">)</span> <span class="kr">debugger</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>上面代码打印出0，1，2以后，就会暂停，自动打开console窗口，等待进一步处理。</p>

<span id="toc12"></span><div class="chapter"><h2 id="移动端开发">移动端开发</h2></div>

<p>（本节暂存此处）</p>

<span id="toc13"></span><h3 id="模拟手机视口（viewport）">模拟手机视口（viewport）</h3>

<p>chrome浏览器的开发者工具，提供一个选项，可以模拟手机屏幕的显示效果。</p>

<p>打开“设置”的Overrides面板，选择相应的User Agent和Device Metrics选项。</p>

<p><img src="https://developers.google.com/chrome-developer-tools/docs/mobile-emulation/image_3.png" alt="选择User Agent"></p>

<p>User Agent可以使得当前浏览器发出手机浏览器的Agent字符串，Device Metrics则使得当前浏览器的视口变为手机的视口大小。这两个选项可以独立选择，不一定同时选中。</p>

<span id="toc14"></span><h3 id="模拟touch事件">模拟touch事件</h3>

<p>我们可以在PC端模拟JavaScript的touch事件。</p>

<p>首先，打开chrome浏览器的开发者工具，选择“设置”中的Overrides面板，勾选“Enable touch events”选项。</p>

<p><img src="https://developers.google.com/chrome-developer-tools/docs/mobile-emulation/image_0.png" alt="Enable touch events的图片"></p>

<p>然后，鼠标就会触发touchstart、touchmove和touchend事件。（此时，鼠标本身的事件依然有效。）</p>

<p>至于多点触摸，必须要有支持这个功能的设备才能模拟，具体可以参考<a href="http://www.html5rocks.com/en/mobile/touch/">Multi-touch web development</a>。</p>

<span id="toc15"></span><h3 id="模拟经纬度">模拟经纬度</h3>

<p>chrome浏览器的开发者工具，还可以模拟当前的经纬度数据。打开“设置”的Overrides面板，选中Override Geolocation选项，并填入相应经度和纬度数据。</p>

<p><img src="https://developers.google.com/chrome-developer-tools/docs/mobile-emulation/image_11.png" alt="模拟经纬度"></p>

<span id="toc16"></span><h3 id="远程除错">远程除错</h3>

<p>(1) Chrome for Android</p>

<p>Android设备上的Chrome浏览器支持USB除错。PC端需要安装Android SDK和Chrome浏览器，然后用usb线将手机和PC连起来，可参考<a href="https://developers.google.com/chrome-developer-tools/docs/remote-debugging">官方文档</a>。</p>

<p>(2) Opera</p>

<p>Opera浏览器的除错环境Dragonfly支持远程除错（<a href="http://www.codegeek.net/blog/2012/mobile-debugging-with-opera-dragonfly/">教程</a>）。</p>

<p>(3) Firefox for Android </p>

<p>参考<a href="https://hacks.mozilla.org/2012/08/remote-debugging-on-firefox-for-android/">官方文档</a>。</p>

<p>(4) Safari on iOS6</p>

<p>你可以使用Mac桌面电脑的Safari 6浏览器，进行远程除错（<a href="http://www.mobilexweb.com/blog/iphone-5-ios-6-html5-developers">教程</a>）。 </p>

<span id="toc17"></span><div class="chapter"><h2 id="google-closure">Google Closure</h2></div>

<p>（本节暂存此处）</p>

<p>Google Closure是Google提供的一个JavaScript源码处理工具，主要用于压缩和合并多个JavaScript脚本文件。</p>

<p>Google Closure使用Java语言开发，使用之前必须先安装Java。然后，前往<a href="https://developers.google.com/closure/">官方网站</a>进行下载，这里我们主要使用其中的编译器（compiler）。</p>

<p>首先，查看使用帮助。</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">java -jar /path/to/closure/compiler.jar --help</code></pre></div>

<p>直接在脚本命令后面跟上要合并的脚本，就能完成合并。</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">java -jar /path/to/closure/compiler.jar *.js</code></pre></div>

<p>使用--js参数，可以确保按照参数的先后次序合并文件。</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">java -jar /path/to/closure/compiler.jar --js script1.js --js script2.js --js script3.js</code></pre></div>

<p>但是，这样的运行结果是将合并后的文件全部输出到屏幕（标准输出），因此需要使用--js_output_file参数，指定合并后的文件名。</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">java -jar /path/to/closure/compiler.jar --js script1.js --js script2.js --js script3.js --js_output_file scripts-compiled.js</code></pre></div>

<span id="toc18"></span><div class="chapter"><h2 id="javascript-性能测试">Javascript 性能测试</h2></div>

<p>(本节暂存此处)</p>

<span id="toc19"></span><h3 id="第一种做法">第一种做法</h3>

<p>最常见的测试性能的做法，就是同一操作重复n次，然后计算每次操作的平均时间。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">totalTime</span><span class="p">,</span>
    <span class="nx">start</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">,</span>
    <span class="nx">iterations</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">iterations</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Code snippet goes here</span>
<span class="p">}</span>

<span class="c1">// totalTime → the number of milliseconds it took to execute</span>
<span class="c1">// the code snippet 6 times</span>
<span class="nx">totalTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span> <span class="o">-</span> <span class="nx">start</span><span class="p">;</span></code></pre></div>

<p>上面代码的问题在于，由于计算机的性能不断提高，如果只重复6次，很可能得到0毫秒的结果，即不到1毫秒，Javascript引擎无法测量。</p>

<span id="toc20"></span><h3 id="第二种做法">第二种做法</h3>

<p>另一种思路是，测试单位时间内完成了多少次操作。</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">hz</span><span class="p">,</span>
    <span class="nx">period</span><span class="p">,</span>
    <span class="nx">startTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">,</span>
    <span class="nx">runs</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">do</span> <span class="p">{</span>
  <span class="c1">// Code snippet goes here</span>
  <span class="nx">runs</span><span class="o">++</span><span class="p">;</span>
  <span class="nx">totalTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">;</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">totalTime</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">);</span>

<span class="c1">// convert ms to seconds</span>
<span class="nx">totalTime</span> <span class="o">/=</span> <span class="mi">1000</span><span class="p">;</span>

<span class="c1">// period → how long per operation</span>
<span class="nx">period</span> <span class="o">=</span> <span class="nx">totalTime</span> <span class="o">/</span> <span class="nx">runs</span><span class="p">;</span>

<span class="c1">// hz → the number of operations per second</span>
<span class="nx">hz</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="nx">period</span><span class="p">;</span>

<span class="c1">// can be shortened to</span>
<span class="c1">// hz = (runs * 1000) / totalTime;</span></code></pre></div>

<p>这种做法的注意之处在于，测试结构受外界环境影响很大，为了得到正确结构，必须重复多次。</p>

<span id="toc21"></span><div class="chapter"><h2 id="参考链接" class="reference">参考链接</h2></div>

<ul class="reference-list">
<li>Chrome Developer Tools, <a href="https://developers.google.com/chrome-developer-tools/docs/console">Using the Console</a></li>
<li>Firebug Wiki, <a href="https://getfirebug.com/wiki/index.php/Console_API">Console API</a></li>
<li>Axel Rauschmayer, <a href="http://www.2ality.com/2013/10/console-api.html">The JavaScript console API</a></li>
<li>Marius Schulz, <a href="http://blog.mariusschulz.com/2013/11/13/advanced-javascript-debugging-with-consoletable">Advanced JavaScript Debugging with console.table()</a></li>
<li>Google Developer, <a href="https://developers.google.com/chrome-developer-tools/docs/commandline-api">Command Line API Reference</a></li>
</ul>


</div></div></article>

<div class="row">
    <div class="twelve columns">

<sectioni id="feature">

<h2>功能链接</h2>

<ul>

	<li><a href="https://github.com/ruanyf/jstutorial/issues">论坛</a></li>
	<li><a href="https://raw.github.com/ruanyf/jstutorial/gh-pages/tool/console.md">Markdown源码</a></li>
	<li><a href="https://github.com/ruanyf/jstutorial/commits/gh-pages/tool/console.md">修订历史</a></li>

</ul>

<h2>留言</h2>

<div id="disqus_thread"><iframe id="dsq-2" data-disqus-uid="2" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./console_files/saved_resource.htm" style="width: 100% !important; border: none !important; overflow: hidden !important; height: 1511px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="dsq-indicator-north" data-disqus-uid="indicator-north" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 910px !important; border: none !important; overflow: hidden !important; top: 0px !important; min-width: 910px !important; max-width: 910px !important; position: fixed !important; z-index: 2147483646 !important; height: 29px !important; min-height: 29px !important; max-height: 29px !important; display: none !important;"></iframe><iframe id="dsq-indicator-south" data-disqus-uid="indicator-south" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 910px !important; border: none !important; overflow: hidden !important; bottom: 0px !important; min-width: 910px !important; max-width: 910px !important; position: fixed !important; z-index: 2147483646 !important; height: 29px !important; min-height: 29px !important; max-height: 29px !important; display: none !important;"></iframe></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jstutorial'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the &lt;a href="http://disqus.com/?ref_noscript"&gt;comments powered by Disqus.&lt;/a&gt;</noscript>
    <a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



</sectioni></div>
</div>

<footer>
<div class="row">
<div class="twelve columns">
	<p><a href="http://javascript.ruanyifeng.com/introduction/license.html">版权声明</a> | last modified on 2013-12-03 </p>
</div>
</div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43771063-1', 'ruanyifeng.com');
  ga('send', 'pageview');
</script>




</body></html>